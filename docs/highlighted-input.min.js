export function highlightedInput(e,t){const l=document.createElement("div");l.className="highlighted-wrap";const n=document.createElement("div");n.className="highlighted-layer",e.classList.add("highlighted-input"),e.parentNode.insertBefore(l,e),l.appendChild(e),l.appendChild(n);const c=Object.keys(t),r={"&":"&amp;","<":"&lt;",">":"&gt;"," ":" ","\n":"<br>"},a=()=>{n.scrollLeft=e.scrollLeft,n.scrollTop=e.scrollTop},i=()=>{const l=new RegExp(`(${c.map((e=>e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"))).join("|")})`,"g");let i=e.value.replace(/[&<>\n ]/g,(e=>r[e]));i=i.replace(l,(e=>`<span class="highlighted-term ${t[e]}">${e}</span>`)),n.innerHTML=i||" ",a()};return["input","change"].forEach((t=>e.addEventListener(t,i))),["scroll","select","click","keyup"].forEach((t=>e.addEventListener(t,a))),i(),{cleanup(){["input","change"].forEach((t=>e.removeEventListener(t,i))),["scroll","select","click","keyup"].forEach((t=>e.removeEventListener(t,a)))}}}export default highlightedInput;
